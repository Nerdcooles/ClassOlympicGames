using System;using System.Collections;using UnityEngine;using TouchScript.Gestures;/** * PC in Longboard Jump */public class LongboardPlayer : PlayerCharacter{	private LongboardLevelManager sceneMgr;	public float red_line = -150f;	Vector2 jump = new Vector2 (0, 900);	float speed = 600;	private GameObject footPrefab;	private bool jumped, pressedInJump, pressed;	bool finished;	protected override void Initialize ()	{		Vector3 position = transform.position;		position.x = -(GameObject.Find ("SceneManager").GetComponent<ScreenManager> ().SceneWidth) + 50;		transform.position = position;		sceneMgr = GameObject.Find ("SceneManager").GetComponent<LongboardLevelManager> () as LongboardLevelManager;		finished = true;		jumped = false;		pressed = false;		footPrefab = Resources.Load <GameObject> ("Prefabs/CementFoot");	}	void Update ()	{		if (!finished) {			if (transform.position.x >= red_line && !jumped && !finished) {				Destroy (rigidbody2D);				animator.SetBool ("isLoser", true);				sceneMgr.Score (player, 0f);				finished = true;				}		}	}		void FixedUpdate ()	{		if (!finished) {			if (pressed && !jumped) {				rigidbody2D.velocity = (Vector2.right * speed);			}		}	}	protected override void Pressed ()	{		if (!jumped) {			pressed = true;		}	}		protected override void Released ()	{		if (!finished) {			if (!jumped && pressed) {				pressed = false;				jumped = true;				rigidbody2D.gravityScale = 100f;				rigidbody2D.AddForce (jump, ForceMode2D.Impulse);				animator.SetBool ("isJumping", true);			}		} else			pressed = false;	}		protected override void OnStart ()	{		finished = false;	}		private void OnTriggerEnter2D (Collider2D other)	{		if (other.tag == "Target") {			if (other.gameObject.name == "cement" + (player.GetHashCode () + 1)) {				finished = true;				rigidbody2D.gravityScale = 0;				Instantiate (footPrefab, transform.position - new Vector3 (0f, 50f, -1f), transform.rotation);				sceneMgr.Score (player, transform.position.x - red_line);				rigidbody2D.velocity = Vector2.zero;								animator.SetBool ("isJumping", false);				animator.SetBool ("isMoving", false);			}		} else {			if (other.tag == "Bound") {				finished = true;				rigidbody2D.gravityScale = 0;				sceneMgr.Score (player, 0);				rigidbody2D.velocity = Vector2.zero;									animator.SetBool ("isJumping", false);				animator.SetBool ("isMoving", false);				animator.SetBool ("isLoser", true);			}		}	}}