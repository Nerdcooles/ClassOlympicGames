using UnityEngine;using UnityEngine.UI;using System.Collections;/** * Podium panel behavior */public class Podium : MonoBehaviour{	public GameObject[] pod = new GameObject[3];	private LevelManager lvm;	private RuntimeAnimatorController animCtrl;	private bool canSkip = false;	private int secToSkip = 1;	public Text btn_left;	void Start ()	{		lvm = GameObject.Find ("SceneManager").GetComponent<LevelManager> () as LevelManager;		if(GameManager.Instance.GetGameMode() == GameManager.eGameMode.TRAINING)			btn_left.text = "Restart";		int num_players = GameManager.Instance.GetNumPlayer ();		int nc = 0;		for (int position=0; position<pod.Length; position++) {			try {				GameManager.ePlayers player = lvm.getPodium (position);				if (player == GameManager.ePlayers.none)					nc++;				if (position == num_players - 1 && position != 0) {					//LOSER					animCtrl = Resources.Load <RuntimeAnimatorController> ("Sprites/Podium/" + GameManager.Instance.GetColor (player) + "_podium_loser");				} else {					//WINNER					animCtrl = Resources.Load <RuntimeAnimatorController> ("Sprites/Podium/" + GameManager.Instance.GetColor (player) + "_podium_winner");				}				pod [position].GetComponent<Animator> ().runtimeAnimatorController = animCtrl;				pod [position].SetActive (true);				GameObject medal = Resources.Load<GameObject> ("Prefabs/Medal_" + position);				medal.GetComponent<MedalMovement> ().enabled = true;				GameObject medlaInstance = Instantiate (medal) as GameObject;				medlaInstance.transform.SetParent (gameObject.transform, false);				medlaInstance.transform.position = pod [position].transform.position;			} catch {			}		}		if (nc == 3)			GetComponent<Image> ().sprite = Resources.Load<Sprite> ("Sprites/Podium/bg_podium_nc");		InvokeRepeating ("WaitToSkip", 0.1f, 1f);	}	public void Right() {		lvm.LevelOver ();	}	public void Left() {		if(GameManager.Instance.GetGameMode() == GameManager.eGameMode.CLASSIC)			MenuManager.NewGame();		if(GameManager.Instance.GetGameMode() == GameManager.eGameMode.TRAINING)			lvm.RestartGame();	}}